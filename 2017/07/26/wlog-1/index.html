<!DOCTYPE html>
<html lang="en">

<!-- Head tag -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="google-site-verification" content="xBT4GhYoi5qRD5tr338pgPM5OWHHIDR6mNg1a3euekI" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="keyword"  content="">
    <link rel="shortcut icon" href="/img/favicon.ico">

    <title>
        
          wlogs - locqj的博客 | locqj&#39;s Blog
        
    </title>

    <link rel="canonical" href="https://locqj.github.io/2017/07/26/wlog-1/">

    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="/css/bootstrap.min.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/hux-blog.min.css">

    <!-- Pygments Highlight CSS -->
    <link rel="stylesheet" href="/css/highlight.css">

    <!-- Custom Fonts -->
    <!-- <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet" type="text/css"> -->
    <!-- Hux change font-awesome CDN to qiniu -->
    <link href="https://cdn.staticfile.org/font-awesome/4.5.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">


    <!-- Hux Delete, sad but pending in China
    <link href='http://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/
    css'>
    -->


    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- ga & ba script hoook -->
    <script></script>
    <script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
    </script>
</head>


<!-- hack iOS CSS :active style -->
<body ontouchstart="">

    <!-- Navigation -->
<nav class="navbar navbar-default navbar-custom navbar-fixed-top">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">locqj&#39;s Blog</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <!-- Known Issue, found by Hux:
            <nav>'s height woule be hold on by its content.
            so, when navbar scale out, the <nav> will cover tags.
            also mask any touch event of tags, unfortunately.
        -->
        <div id="huxblog_navbar">
            <div class="navbar-collapse">
                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="/">Home</a>
                    </li>

                    

                        
                    

                        
                        <li>
                            <a href="/about/">About</a>
                        </li>
                        
                    

                        
                        <li>
                            <a href="/archives/">Archives</a>
                        </li>
                        
                    

                        
                        <li>
                            <a href="/tags/">Tags</a>
                        </li>
                        
                    
                    
                </ul>
            </div>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->

</nav>
<script>
    // Drop Bootstarp low-performance Navbar
    // Use customize navbar with high-quality material design animation
    // in high-perf jank-free CSS3 implementation
    var $body   = document.body;
    var $toggle = document.querySelector('.navbar-toggle');
    var $navbar = document.querySelector('#huxblog_navbar');
    var $collapse = document.querySelector('.navbar-collapse');

    $toggle.addEventListener('click', handleMagic)
    function handleMagic(e){
        if ($navbar.className.indexOf('in') > 0) {
        // CLOSE
            $navbar.className = " ";
            // wait until animation end.
            setTimeout(function(){
                // prevent frequently toggle
                if($navbar.className.indexOf('in') < 0) {
                    $collapse.style.height = "0px"
                }
            },400)
        }else{
        // OPEN
            $collapse.style.height = "auto"
            $navbar.className += " in";
        }
    }
</script>


    <!-- Main Content -->
    
<!-- Image to hack wechat -->
<!-- <img src="https://locqj.github.io/img/icon_wechat.png" width="0" height="0"> -->
<!-- <img src="{{ site.baseurl }}/{% if page.header-img %}{{ page.header-img }}{% else %}{{ site.header-img }}{% endif %}" width="0" height="0"> -->

<!-- Post Header -->
<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>
<style type="text/css">
    header.intro-header{
        background-image: url('/img/home-bg.jpg')
    }
</style>
<header class="intro-header" >
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <div class="post-heading">
                    <div class="tags">
                        
                          <a class="tag" href="/tags/#个人日常整理" title="个人日常整理">个人日常整理</a>
                        
                    </div>
                    <h1>wlogs</h1>
                    <h2 class="subheading"></h2>
                    <span class="meta">
                        Posted by willian CHEN on
                        2017-07-26
                    </span>
                    本文总阅读量<span id="busuanzi_value_page_pv"></span>次
                </div>
            </div>
        </div>
    </div>
</header>

<!-- Post Content -->
<article>
    <div class="container">
        <div class="row">

    <!-- Post Container -->
            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                post-container">

                <h1 id="WLOGS"><a href="#WLOGS" class="headerlink" title="WLOGS"></a>WLOGS</h1><h1 id="7-11"><a href="#7-11" class="headerlink" title="7-11"></a>7-11</h1><h3 id="windows-下-php环境搭建，开发工具部署-心得"><a href="#windows-下-php环境搭建，开发工具部署-心得" class="headerlink" title="windows 下 php环境搭建，开发工具部署 心得"></a>windows 下 php环境搭建，开发工具部署 心得</h3><h3 id="工具选择"><a href="#工具选择" class="headerlink" title="工具选择"></a>工具选择</h3><ul>
<li>phpStudy2016(主要是小巧功能强大，版本可选择)，但是在win下跑，机子还要必须对应的VC运行库 –》php7(vc14) –&gt;最基本要vc9， ！！！！注意的是PHP环境都是32位的，所以运行库必须安装X86</li>
<li>composer （一个PHP的管理依赖工具）</li>
<li>sublime编译器（略）</li>
</ul>
<h3 id="phpStudy注意点"><a href="#phpStudy注意点" class="headerlink" title="phpStudy注意点"></a>phpStudy注意点</h3><ul>
<li>直接装，装完后切换版本会自动检测你有没相应的运行库，没有的话phpStudy也会很人性化的帮你打开网站 按照该提示装好运行库就可以切换高版本了（建议全用php7，因为php一些扩展依赖都要求高于5.6，这个版本的phpStudy正好卡在这个版本上，所以建议直接上7）</li>
<li>为装composer做准备-》将php的openssl扩展打开-》直接在php.ini文件搜索extends扩展打开即可，记得重启服务器、</li>
<li>将你选择的php版本文件路径配置到环境变量下面，在git 全局下 执行 php -v 查看到版本信息说明安装成功。</li>
</ul>
<h3 id="composer-安装"><a href="#composer-安装" class="headerlink" title="composer 安装"></a>composer 安装</h3><ul>
<li>composer的安装方法有很多种，什么全局，局部，下载可执行文件（推荐）。。</li>
<li>安装完后再cmd敲composer如果有显示版本信息就说明安装成功，安装成功建议重启一遍电脑，因为不知道为什么git bush在安装完全第一时间是不识别composer，等你重启系统后自然就可以在git bush 执行composer命令了</li>
</ul>
<h1 id="7-12"><a href="#7-12" class="headerlink" title="7-12"></a>7-12</h1><h3 id="关于接口一直找不到很具体的概念去定义它，今天无意看到一篇博文，博主是这样定义的-接口类interface就是一个类的领导者，指明方向，子类（使用这一接口的类）必须完成它指定的方法"><a href="#关于接口一直找不到很具体的概念去定义它，今天无意看到一篇博文，博主是这样定义的-接口类interface就是一个类的领导者，指明方向，子类（使用这一接口的类）必须完成它指定的方法" class="headerlink" title="关于接口一直找不到很具体的概念去定义它，今天无意看到一篇博文，博主是这样定义的:接口类interface就是一个类的领导者，指明方向，子类（使用这一接口的类）必须完成它指定的方法"></a>关于接口一直找不到很具体的概念去定义它，今天无意看到一篇博文，博主是这样定义的:接口类interface就是一个类的领导者，指明方向，子类（使用这一接口的类）必须完成它指定的方法</h3><pre><code>interface show{
    public function buy($gid);  
    public function sell($gid);  
    public function view($gid);
    }




class BaseShop implements Shop  
{  
    public function buy($gid)  
    {  
        echo(&apos;你购买了ID为 :&apos;.$gid.&apos;的商品&apos;);  
    }  
    public function sell($gid)  
    {  
        echo(&apos;你卖了ID为 :&apos;.$gid.&apos;的商品&apos;);  
    }  
    public function view($gid)  
    {  
        echo(&apos;你查看了ID为 :&apos;.$gid.&apos;的商品&apos;);  
    }  
}
</code></pre><h3 id="baseshop必须把接口的方法给做完-一个都不能少。这样有助于开发的规范"><a href="#baseshop必须把接口的方法给做完-一个都不能少。这样有助于开发的规范" class="headerlink" title="baseshop必须把接口的方法给做完,一个都不能少。这样有助于开发的规范"></a>baseshop必须把接口的方法给做完,一个都不能少。这样有助于开发的规范</h3><h3 id="一个方法只做一件事，尽量不要超过20行代码"><a href="#一个方法只做一件事，尽量不要超过20行代码" class="headerlink" title="一个方法只做一件事，尽量不要超过20行代码"></a>一个方法只做一件事，尽量不要超过20行代码</h3><h1 id="7-13"><a href="#7-13" class="headerlink" title="7-13"></a>7-13</h1><h3 id="重温psr-0"><a href="#重温psr-0" class="headerlink" title="重温psr-0"></a>重温psr-0</h3><ul>
<li>全部使用命名空间（namespace）</li>
<li>所有php文件必须自动载入，不能有include/require（sql_autoload_register[允许一个php中执行多个__autoload]）</li>
<li>单一入口文件</li>
<li>除了入口文件，其他.php文件都遵循一个类的原则</li>
</ul>
<h1 id="7-15"><a href="#7-15" class="headerlink" title="7.15"></a>7.15</h1><p>###linux </p>
<ul>
<li>命令 hosts alias 服务器别名，</li>
</ul>
<h1 id="7-17"><a href="#7-17" class="headerlink" title="7.17"></a>7.17</h1><p>###linux</p>
<ul>
<li>查看系统中有几种shell,cat /etc/shells (指的是存放位置)</li>
<li>切换zsh chsh -s /bin/zsh</li>
</ul>
<h1 id="7-18"><a href="#7-18" class="headerlink" title="7.18"></a>7.18</h1><h3 id="linux"><a href="#linux" class="headerlink" title="linux"></a>linux</h3><pre><code>持续查看日志状态 tail -f
ctrl + r 字母 自动匹配history的命令
定时任务 crontab
     不同权限的定时任务有区别的，最好做定时任务的时候切到root，
     crontab -l  查看定时任务
     crontab -e 编辑定时任务
     /etc/init.d/cron/crontab {start|status|restart|stop} 服务管理相关
    * * * * *  对应分 时 天 月 年
</code></pre><h3 id="php"><a href="#php" class="headerlink" title="php"></a>php</h3><pre><code>二维数组排序问题
如果要想用二位数组的一个元素排序
</code></pre><figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">           <span class="meta">&lt;?php</span></div><div class="line"></div><div class="line">    $data = <span class="keyword">array</span>();</div><div class="line">    $data[] = <span class="keyword">array</span>(<span class="string">'volume'</span> =&gt; <span class="number">67</span>, <span class="string">'edition'</span> =&gt; <span class="number">2</span>);</div><div class="line">    $data[] = <span class="keyword">array</span>(<span class="string">'volume'</span> =&gt; <span class="number">86</span>, <span class="string">'edition'</span> =&gt; <span class="number">1</span>);</div><div class="line">    $data[] = <span class="keyword">array</span>(<span class="string">'volume'</span> =&gt; <span class="number">85</span>, <span class="string">'edition'</span> =&gt; <span class="number">6</span>);</div><div class="line">    $data[] = <span class="keyword">array</span>(<span class="string">'volume'</span> =&gt; <span class="number">98</span>, <span class="string">'edition'</span> =&gt; <span class="number">2</span>);</div><div class="line">    $data[] = <span class="keyword">array</span>(<span class="string">'volume'</span> =&gt; <span class="number">86</span>, <span class="string">'edition'</span> =&gt; <span class="number">6</span>);</div><div class="line">    $data[] = <span class="keyword">array</span>(<span class="string">'volume'</span> =&gt; <span class="number">67</span>, <span class="string">'edition'</span> =&gt; <span class="number">7</span>);</div><div class="line">    <span class="comment">// 取得列的列表</span></div><div class="line">    <span class="keyword">foreach</span> ($data <span class="keyword">as</span> $key =&gt; $row)</div><div class="line">    &#123;</div><div class="line">        $volume[$key]  = $row[<span class="string">'volume'</span>];</div><div class="line">        $edition[$key] = $row[<span class="string">'edition'</span>];</div><div class="line">    &#125;</div><div class="line">    array_multisort($volume, SORT_DESC, $edition, SORT_ASC, $data);</div><div class="line">    print_r($data);</div><div class="line"><span class="meta">?&gt;</span></div></pre></td></tr></table></figure>
<pre><code>重新排序函数
     array_values($array) 针对value
     asort() -&gt;value-&gt;down to upload
     aesort() 相反
     ksort() -&gt;key
     krsort()
     shuffle()随机
     sort()
</code></pre><h1 id="7-20"><a href="#7-20" class="headerlink" title="7.20"></a>7.20</h1><h3 id="php-1"><a href="#php-1" class="headerlink" title="php"></a>php</h3><pre><code>* in_array(substr($list[&apos;position_code&apos;], 0, 2), [&apos;xs&apos;, &apos;dz&apos;, &apos;gh&apos;, &apos;zl&apos;, &apos;jl&apos;, &apos;qy&apos;]) //判断该元素是否在数组中
* php 默认是用UTC， 需要用到时间的地方date_default_timezone_set(&apos;Asia/Shanghai&apos;);或者配置到php.ini
* date(&quot;Y-m-d H:i:s&quot;) ok       date(&quot;Y-m-d H:m:sa&quot;) 有问题 ！！！
</code></pre><h3 id="mysql"><a href="#mysql" class="headerlink" title="mysql"></a>mysql</h3><pre><code>导出数据库： mysqldump -u xxx -p databsename &gt; xxx.sql
导入数据库： mysql -u xxx -p databasename &lt; xxx.sql
</code></pre><h3 id="ngnix"><a href="#ngnix" class="headerlink" title="ngnix"></a>ngnix</h3><pre><code>我的ubuntu：
nginx.conf 在 /ETC/ngnix/nginx.conf
默认主机配置文件 /etc/nginx/sites-available/default
配置虚拟域名的在 /etc/hosts
</code></pre><h3 id="php-2"><a href="#php-2" class="headerlink" title="php"></a>php</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#demo</span></div><div class="line"></div><div class="line">server &#123;</div><div class="line">    listen <span class="number">80</span>;</div><div class="line">    server_name www.demo.com;</div><div class="line">    root /home/zxl/wwwroot/demo/;</div><div class="line">    index index.php index.html index.htm;</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">    <span class="keyword">if</span> (!-e $request_filename) &#123;</div><div class="line">        rewrite  ^/(.*)$  /index.php/$<span class="number">1</span>  last;</div><div class="line">        <span class="keyword">break</span>;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    location ~ \.php</div><div class="line">    &#123;</div><div class="line">        <span class="comment">#响应请求处理入口，使用php-fpm进行管理</span></div><div class="line">        fastcgi_pass unix:/<span class="keyword">var</span>/run/php5-fpm.sock;</div><div class="line"></div><div class="line">        fastcgi_index index.php;</div><div class="line">        fastcgi_split_path_info ^(.+\.php)(.*)$;</div><div class="line">        fastcgi_param PATH_INFO $fastcgi_path_info;</div><div class="line">        fastcgi_param PATH_TRANSLATED $document_root$fastcgi_path_info;</div><div class="line">        fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;</div><div class="line">        <span class="keyword">include</span> fastcgi_params;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    location ~ .*\.(gif|jgp|jpeg|png|bmp|swf)$</div><div class="line">    &#123;</div><div class="line">        expires <span class="number">30</span>d;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    location ~ .*\.(js|css)?$</div><div class="line">    &#123;</div><div class="line">        expires <span class="number">1</span>h;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">#log_format access '$remote_addr - $remote_user [$time_local] "$request" ' '$status $body_bytes_sent "$http_referer"' '"$http_user_agent" $http_x_forwarded_for';</span></div><div class="line">    <span class="comment">#access_log /var/log/nginx/access.log access;</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="mongodb"><a href="#mongodb" class="headerlink" title="mongodb"></a>mongodb</h3><pre><code>mongodb 默认端口6343

locate mongo 输出当前陌路
</code></pre><h1 id="7-21"><a href="#7-21" class="headerlink" title="7-21"></a>7-21</h1><h3 id="composer"><a href="#composer" class="headerlink" title="composer"></a>composer</h3><ul>
<li>composer install update 必须要非root用户</li>
<li>composer global require “laravel/lumen-installer” 配置全局必须该配置下面，我的是/home/locqj/.composer</li>
<li>composer config -g repo.packagist composer <a href="https://packagist.phpcomposer.com" target="_blank" rel="external">https://packagist.phpcomposer.com</a>   记得配置国内的镜像！！！！好坑</li>
</ul>
<h3 id="on-my-zsh"><a href="#on-my-zsh" class="headerlink" title="on-my-zsh"></a>on-my-zsh</h3><ul>
<li><p>del just run <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"></div><div class="line">### gnome </div><div class="line">   * 添加图标的文件目录为 ```/vsr/share/applications/xxx.desktop `, 修改配置文件的两处ICON</div><div class="line"></div><div class="line"></div><div class="line">### html</div><div class="line">   * input 如果是button 不想破坏其样式 可以用 readonly=&quot;readonly&quot; disabled会吧样式给注释掉</div><div class="line"></div><div class="line"></div><div class="line">### linux</div><div class="line">   * echo export EDITOR=/usr/bin/vim &gt;&gt; ~/.bashrc(or zshrc)  在终端输入，修改默认打开编译器</div><div class="line">   * 安装东西 不要用root,apt有的东西，就要先在apt下载再update</div><div class="line"></div><div class="line"></div><div class="line">### patterns</div><div class="line">   * 策略模式： 将一组特定的行为和算法封装成类， 以适应某些特定的上下文关系。eg：根据电商系统，针对用户的需求不同，展示的类目不同，传统就是ifelse 硬编码！。这个就是为了解决硬编码问题。</div><div class="line"></div><div class="line"></div><div class="line"># 7-22</div><div class="line"></div><div class="line">### linux</div><div class="line">   * chown –R root:root rootfs 将rootfs文件夹及其子录的权限和组均改为root</div><div class="line">   * chown –R liufan:liufan-desktop rootfs 将目录rootfs文件夹及子目录的所有者和组更改为用  户liufan和组liufan-desktop</div><div class="line">   * pwd -p 真实路径</div><div class="line">   * 文件查看</div></pre></td></tr></table></figure></p>
<p> Linux 文件内容查看<br> Linux系统中使用以下命令来查看文件的内容：<br> cat  由第一行开始显示文件内容<br> tac  从最后一行开始显示，可以看出 tac 是 cat 的倒著写！<br> nl   显示的时候，顺道输出行号！<br> more 一页一页的显示文件内容<br> less 与 more 类似，但是比 more 更好的是，他可以往前翻页！<br> head 只看头几行</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div></pre></td><td class="code"><pre><div class="line">    * 解压缩汇总</div><div class="line">      * tar： </div><div class="line">        tar -cf all.tar *.jpg 将所有的.jpg 打包名为all.tar的包。-c产生新的包，-f指定包的文件名。</div><div class="line">    tar -rf all.tar *.gif 这条命令是将所有.gif的文件增加到all.tar的包里面去。-r是表示增加文件的 </div><div class="line">意思。</div><div class="line">    tar -xf all.tar 解压</div><div class="line">      * gzip： 基本上tar就可以用来压缩和解压了</div><div class="line">      * zip： unzip 解压  zip -r yasuo.zip abc.txt dir1 将abc.txt 和dir1一起打包</div><div class="line">      </div><div class="line">    </div><div class="line">        </div><div class="line"></div><div class="line"></div><div class="line">### jquery</div><div class="line">   * $.trim($(&quot;#title&quot;).val()); 去除空格</div><div class="line"></div><div class="line">### mysql</div><div class="line">   * mysql&gt; CREATE DATABASE abccs;  新建数据库</div><div class="line"></div><div class="line">### shell</div><div class="line">   * 删库小脚本</div><div class="line"></div><div class="line">### php</div><div class="line"></div><div class="line">   * _construct 构造方法，当一个对象创建时调用此方法，使用此方法的好处是：可以使构造方法有一个独一无二的名称,无论它所在的类的名称是什么.这样你在改变类的名称时,就不需要改变构造方法的名称</div><div class="line">   * __destruct 析构方法，PHP将在对象被销毁前（即从内存中清除前）调用这个方法</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"># 7-23</div><div class="line"></div><div class="line"></div><div class="line">#shell</div><div class="line">   删除数据库</div><div class="line"></div><div class="line">   ```shell</div><div class="line">  #!/bin/bash</div><div class="line"># 删除mysql中所有表</div><div class="line"># 示例：</div><div class="line"># Usage: ./script user password dbnane</div><div class="line"># Usage: ./script user password dbnane server-ip</div><div class="line"># Usage: ./script user password dbnane mysql.nixcraft.in</div><div class="line"># ---------------------------------------------------</div><div class="line"> </div><div class="line">MUSER=&quot;$1&quot;</div><div class="line">MPASS=&quot;$2&quot;</div><div class="line">MDB=&quot;$3&quot;</div><div class="line"> </div><div class="line">MHOST=&quot;localhost&quot;</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">[ &quot;$4&quot; != &quot;&quot; ] &amp;&amp; MHOST=&quot;$4&quot;</div><div class="line"> </div><div class="line"># 设置命令路径</div><div class="line">MYSQL=$(which mysql)</div><div class="line">AWK=$(which awk)</div><div class="line">GREP=$(which grep)</div><div class="line"> </div><div class="line"># help $# 是参数，参数小于三个就报错</div><div class="line">if [ ! $# -ge 3 ]</div><div class="line">  then</div><div class="line">    echo &quot;Usage: $0 &#123;用户名&#125; &#123;密码&#125; &#123;数据库名&#125; [端口,默认localhost]&quot;</div><div class="line">    echo &quot;删库小脚本&quot;</div><div class="line">  exit 1</div><div class="line">fi</div><div class="line"> </div><div class="line"># 连接mysql数据库</div><div class="line">$MYSQL -u $MUSER -p$MPASS -h $MHOST -e &quot;use $MDB&quot;  &amp;&gt;/dev/null</div><div class="line">if [ $? -ne 0 ]</div><div class="line">  then</div><div class="line">    echo &quot;Error - 用户名或密码无效，无法连接mysql数据库&quot;</div><div class="line">    exit 2</div><div class="line">fi</div><div class="line"> </div><div class="line">TABLES=$($MYSQL -u $MUSER -p$MPASS -h $MHOST $MDB -e &apos;show tables&apos; | $AWK &apos;&#123; print $1&#125;&apos; | $GREP -v &apos;^Tables&apos; )</div><div class="line"> </div><div class="line"># make sure tables exits</div><div class="line">if [ &quot;$TABLES&quot; == &quot;&quot; ]</div><div class="line">  then</div><div class="line">    echo &quot;Error - 在数据库中 $MDB 未发现相关表&quot;</div><div class="line">  exit 3</div><div class="line">fi</div><div class="line"> </div><div class="line"># let us do it</div><div class="line">for t in $TABLES</div><div class="line"></div><div class="line">do</div><div class="line">  if [ $t == &quot;user&quot; ]</div><div class="line">    then</div><div class="line">      delete_sql=&quot;delete from $t where username &lt;&gt; &apos;cw&apos; AND username &lt;&gt; &apos;jl&apos; AND username &lt;&gt; &apos;gh&apos;&quot;</div><div class="line">      $MYSQL -u $MUSER -p$MPASS -h $MHOST $MDB -e  &quot;$&#123;delete_sql&#125;&quot;</div><div class="line">    continue</div><div class="line">  elif [ $t == &quot;employee_position&quot; ]</div><div class="line">    then</div><div class="line">      delete_sql=&quot;delete from $t where position_code &lt;&gt; &apos;cw01&apos; AND position_code &lt;&gt; &apos;jl01&apos; AND position_code &lt;&gt; &apos;gh01&apos;&quot;</div><div class="line">      $MYSQL -u $MUSER -p$MPASS -h $MHOST $MDB -e  &quot;$&#123;delete_sql&#125;&quot;</div><div class="line">    continue</div><div class="line">  elif [ $t == &quot;store_store&quot; ]</div><div class="line">    then</div><div class="line">      delete_sql=&quot;delete from $t where code &lt;&gt; &apos;hj001&apos;&quot;</div><div class="line">      $MYSQL -u $MUSER -p$MPASS -h $MHOST $MDB -e  &quot;$&#123;delete_sql&#125;&quot;</div><div class="line">    continue</div><div class="line">  elif [ $t == &quot;staff_position&quot; ]</div><div class="line">    then</div><div class="line">      delete_sql=&quot;delete from $t where store_code &lt;&gt; &apos;hj001&apos;&quot;</div><div class="line">      $MYSQL -u $MUSER -p$MPASS -h $MHOST $MDB -e  &quot;$&#123;delete_sql&#125;&quot;</div><div class="line">    continue</div><div class="line">  elif [ $t == &quot;staff_employee&quot; ]</div><div class="line">    then</div><div class="line">      delete_sql=&quot;delete from $t where name &lt;&gt; &apos;bruce_zj&apos; AND name &lt;&gt; &apos;bruce_cw&apos; AND name &lt;&gt; &apos;bruce_gh&apos;&quot;</div><div class="line">      $MYSQL -u $MUSER -p$MPASS -h $MHOST $MDB -e  &quot;$&#123;delete_sql&#125;&quot;</div><div class="line">    continue</div><div class="line">  elif [ $t == &quot;store_city&quot; ] || [ $t == &quot;store_company&quot; ] || [ $t == &quot;staff_bonus_rule&quot; ]</div><div class="line">    then</div><div class="line">    continue</div><div class="line">  else</div><div class="line">    then</div><div class="line">    echo &quot;Truncate $t table from $MDB database...&quot;</div><div class="line">    $MYSQL -u $MUSER -p$MPASS -h $MHOST $MDB -e &quot;TRUNCATE TABLE  $t&quot;</div><div class="line">  fi</div><div class="line">  </div><div class="line">done</div></pre></td></tr></table></figure>
</li>
</ul>
<p>#7-24</p>
<h3 id="python"><a href="#python" class="headerlink" title="python"></a>python</h3><ul>
<li><figure class="highlight plain"><figcaption><span>-*- coding: UTF-8 -*-```   必须加在py文件第一行，不然中文注释报错，因为py是默认ascll编码的，这行则指定文件为utf-8，文件就可以用中文</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">   * 在 python 中，for … else 表示这样的意思，for 中的语句和普通的没有区别，**else中的语句会在循环正常执行完**（即 for 不是通过 break 跳出而中断的）的情况下执行，while … else 也是一样。</div><div class="line"></div><div class="line">### hexo</div><div class="line">   * 记得linux下面文件权限问题，将new的文章权限改成当前用户权限，不然就老是报```hexo  Cannot set property &apos;lastIndex&apos; of undefined</div></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="linux-1"><a href="#linux-1" class="headerlink" title="linux"></a>linux</h3><ul>
<li>不同权限用户的公钥也不一样，root的id_rsa.pub 的公钥和locqj的id_rsa.pub的公钥是不一样的</li>
</ul>
<h1 id="7-25"><a href="#7-25" class="headerlink" title="7-25"></a>7-25</h1><h3 id="linux-2"><a href="#linux-2" class="headerlink" title="linux"></a>linux</h3><ul>
<li>重新读取.zshrc，source .zshrc</li>
<li>source 改变配置文件的时候需要用到 source xxx</li>
<li>tree -l 当前路径下的文件 -d 是目录 -a所有 -c加上色彩 -L level 显示一级目录和文件</li>
<li>vim<ul>
<li>5dd 删除当前行和之后四行， 3x是删除当前字符和之后两个字符 d$删除到行尾，d0删除到行头 dW删除当前字符到下一个单词</li>
<li>yy 复制 具体和上面一样 ，p是粘贴</li>
<li>u撤销， J是合并当前行和下一行， /xxx 搜索 </li>
<li>:n 下一个文件 :N 上一个文件 :buffers 正在编译的文件列表 :e xxx 文件名就载入多一个文件：</li>
</ul>
</li>
<li><p>scp</p>
<ul>
<li><p>本地上传服务器 <figure class="highlight plain"><figcaption><span>/home/liujia/file.1txt  liujia@172.16.252.32:/user/liujia```</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">* 服务器下载 ```scpliujia@172.16.252.32:/user/liujia/file1.txt /home/liujia</div></pre></td></tr></table></figure></p>
</li>
<li><p>参数： -r整个目录， -v 提示文件信息， -p保留源文件的建立时间</p>
</li>
</ul>
</li>
<li>python<ul>
<li>tup1 = (50,); 一个元组的时候需要加，</li>
<li>Python的from语句让你从模块中导入一个指定的部分到当前命名空间中。语法如下：<code>from modname import name1[, name2[, ... nameN]]</code> 也可以是* </li>
<li><strong>init</strong>.py引入包，然后里面的函数名必须要有和from xxx import xxx 名字必须一样 这个引的是.py文件里面的函数，是包的入口文件</li>
<li>raw_input(‘xxx’) 或 input 输入-》类似scanf</li>
</ul>
</li>
</ul>
<h1 id="7-26"><a href="#7-26" class="headerlink" title="7-26"></a>7-26</h1><h3 id="python-1"><a href="#python-1" class="headerlink" title="python"></a>python</h3><ul>
<li>错误提醒：<ul>
<li>忘记在 if , elif , else , for , while , class ,def 声明末尾添加 ：（导致 “SyntaxError ：invalid syntax”）</li>
<li>使用 = 而不是 ==（导致“SyntaxError: invalid syntax”）</li>
</ul>
</li>
</ul>
<h3 id="shell"><a href="#shell" class="headerlink" title="shell"></a>shell</h3><ul>
<li>数组定义STORE=(‘hjs00002’ ‘hjs00003’ ‘hjs00004’ ‘hjs00005’) 数据之间不需要有分号</li>
<li>遍历数组 for store_code in ${STORE[@]} 所有成${STORE[@]}</li>
<li>if判断[]中括号前后必须空格，除了最后else不需要then，if， elif 都要接then才能执行</li>
</ul>
<h3 id="php-3"><a href="#php-3" class="headerlink" title="php"></a>php</h3><ul>
<li>数组去重复值 array_unique</li>
</ul>


                <hr>



                
            </div>
    <!-- Side Catalog Container -->
        

    <!-- Sidebar Container -->

            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                sidebar-container">

                <!-- Featured Tags -->
                
                <section>
                    <!-- no hr -->
                    <h5><a href="/tags/">FEATURED TAGS</a></h5>
                    <div class="tags">
                       
                          <a class="tag" href="/tags/#个人日常整理" title="个人日常整理">个人日常整理</a>
                        
                    </div>
                </section>
                

                <!-- Friends Blog -->
                
                <hr>
                <h5>FRIENDS</h5>
                <ul class="list-inline">

                    
                </ul>
                
            </div>

        </div>
    </div>
</article>


<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
<script type="text/javascript">
    // dynamic User by Hux
    var _user = 'locqj';

    // duoshuo comment query.
    var duoshuoQuery = {short_name: _user };
    (function() {
        var ds = document.createElement('script');
        ds.type = 'text/javascript';ds.async = true;
        ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
        ds.charset = 'UTF-8';
        (document.getElementsByTagName('head')[0]
         || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
</script>
<!-- 多说公共JS代码 end -->



<!-- disqus 公共JS代码 start (一个网页只需插入一次) -->
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES * * */
    var disqus_shortname = "hexo-theme-huxblog";
    var disqus_identifier = "https://locqj.github.io/2017/07/26/wlog-1/";
    var disqus_url = "https://locqj.github.io/2017/07/26/wlog-1/";

    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<!-- disqus 公共JS代码 end -->




<!-- async load function -->
<script>
    function async(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>
<!-- anchor-js, Doc:http://bryanbraun.github.io/anchorjs/ -->
<script>
    async("https://cdn.bootcss.com/anchor-js/1.1.1/anchor.min.js",function(){
        anchors.options = {
          visible: 'always',
          placement: 'right',
          icon: '#'
        };
        anchors.add().remove('.intro-header h1').remove('.subheading').remove('.sidebar-container h5');
    })
</script>
<style>
    /* place left on bigger screen */
    @media all and (min-width: 800px) {
        .anchorjs-link{
            position: absolute;
            left: -0.75em;
            font-size: 1.1em;
            margin-top : -0.1em;
        }
    }
</style>



    <!-- Footer -->
    <!-- Footer -->
<footer>
    <div class="container">
            <script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
        </script>
       
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">
             
                
                
                
                    <li>
                        <a target="_blank" href="https://www.zhihu.com/people/locqj">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa  fa-stack-1x fa-inverse">知</i>
                            </span>
                        </a>
                    </li>
                

                
                    <li>
                        <a target="_blank" href="http://weibo.com/1800116927">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-weibo fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                

                
                    <li>
                        <a target="_blank" href="https://www.facebook.com/100015035865657">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-facebook fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                

                
                    <li>
                        <a target="_blank"  href="https://github.com/locqj">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                

                
                    <li>
                        <a target="_blank"  href="https://www.linkedin.com/in/william-chen-a20563137">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-linkedin fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                

                </ul>
                <p class="copyright text-muted">
                 
                    Copyright &copy; locqj&#39;s Blog 2017 
                    <br>
                       
                    Total<span id="busuanzi_value_site_pv"></span>Hits
                    
                </p>
            </div>
        </div>
    </div>
</footer>

<!-- jQuery -->
<script src="/js/jquery.min.js"></script>

<!-- Bootstrap Core JavaScript -->
<script src="/js/bootstrap.min.js"></script>

<!-- Custom Theme JavaScript -->
<script src="/js/hux-blog.min.js"></script>


<!-- async load function -->
<script>
    function async(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>

<!-- 
     Because of the native support for backtick-style fenced code blocks 
     right within the Markdown is landed in Github Pages, 
     From V1.6, There is no need for Highlight.js, 
     so Huxblog drops it officially.

     - https://github.com/blog/2100-github-pages-now-faster-and-simpler-with-jekyll-3-0  
     - https://help.github.com/articles/creating-and-highlighting-code-blocks/    
-->
<!--
    <script>
        async("http://cdn.bootcss.com/highlight.js/8.6/highlight.min.js", function(){
            hljs.initHighlightingOnLoad();
        })
    </script>
    <link href="http://cdn.bootcss.com/highlight.js/8.6/styles/github.min.css" rel="stylesheet">
-->


<!-- jquery.tagcloud.js -->
<script>
    // only load tagcloud.js in tag.html
    if($('#tag_cloud').length !== 0){
        async("https://locqj.github.io/js/jquery.tagcloud.js",function(){
            $.fn.tagcloud.defaults = {
                //size: {start: 1, end: 1, unit: 'em'},
                color: {start: '#bbbbee', end: '#0085a1'},
            };
            $('#tag_cloud a').tagcloud();
        })
    }
</script>

<!--fastClick.js -->
<script>
    async("https://cdn.bootcss.com/fastclick/1.0.6/fastclick.min.js", function(){
        var $nav = document.querySelector("nav");
        if($nav) FastClick.attach($nav);
    })
</script>


<!-- Google Analytics -->


<script>
    // dynamic User by Hux
    var _gaId = 'UA-49627206-1';
    var _gaDomain = 'huangxuan.me';

    // Originial
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', _gaId, _gaDomain);
    ga('send', 'pageview');
</script>




<!-- Baidu Tongji -->

<script>
    // dynamic User by Hux
    var _baId = '4cc1f2d8f3067386cc5cdb626a202900';

    // Originial
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?" + _baId;
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
</script>


<!-- Side Catalog -->





<!-- Image to hack wechat -->
<img src="https://locqj.github.io/img/icon_wechat.png" width="0" height="0" />
<!-- Migrate from head to bottom, no longer block render and still work -->

</body>

</html>
